<head>
  <script src="p5.js"></script>
  <script src="p5.dom.js"></script>
  <script src="clmtrackr.js"></script>

  <style>
    video {
      display: none;
    }
  </style>
</head>
<body>
  <script>
  var capture
  var tracker

  function setup() {
    createCanvas(600, 600)

    capture = createCapture(VIDEO)
    capture.size(640, 480)

    tracker = new clm.tracker()
    tracker.init()
    tracker.start(capture.elt)

    noStroke()
  }

  function draw() {
    background(255, 255, 255)

    image(capture, 0, 0)

    var positions = tracker.getCurrentPosition()

    if (positions != false) {
      // for (var i = 0; i < positions.length; i = i + 1) {
      //   var point = positions[i]
      //   var x = point[0]
      //   var y = point[1]
      //
      //   fill(255, 0, 0)
      //   ellipse(x, y, 2, 2)
      //   text(i, x + 4, y + 4)
      // }

      var leftEye = positions[27]
      var rightEye = positions[32]

      fill(255, 255, 255)

      ellipse(leftEye[0], leftEye[1], 30, 30)
      ellipse(rightEye[0], rightEye[1], 30, 30)

      fill(0, 0, 0)

      ellipse(leftEye[0], leftEye[1], 5, 5)
      ellipse(rightEye[0], rightEye[1], 5, 5)
    }
  }
  </script>
</body>
